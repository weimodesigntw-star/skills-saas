# 🔧 端口權限問題解決方案

## 問題描述

遇到 `EPERM: operation not permitted` 錯誤，這通常是 macOS 系統級權限問題。

---

## ✅ 解決方案 1：手動在終端機啟動（推薦）

**這是最簡單可靠的方法：**

1. **打開終端機**（Terminal、iTerm2 或 Warp）
2. **進入專案目錄**：
   ```bash
   cd /Users/weimodesign/SynologyDrive/維摩設計/skills
   ```
3. **啟動開發伺服器**：
   ```bash
   npm run dev
   ```
4. **等待看到**：
   ```
   ▲ Next.js 14.0.4
   - Local:        http://localhost:3000
   - Ready in X.Xs
   ```
5. **打開瀏覽器訪問**：
   ```
   http://localhost:3000/dashboard/categories
   ```

---

## ✅ 解決方案 2：檢查 macOS 防火牆設置

1. **打開「系統設定」**（System Settings）
2. **前往「網路」**（Network）> **「防火牆」**（Firewall）
3. **點擊「選項」**（Options）
4. **確認 Node.js 或 Terminal 在允許清單中**
5. **如果沒有，點擊「+」添加應用程式**

---

## ✅ 解決方案 3：使用不同的端口

如果端口 3000 被系統保護，可以嘗試其他端口：

1. **修改 `package.json`**：
   ```json
   "dev": "next dev -p 3001"
   ```

2. **或使用環境變數**：
   ```bash
   PORT=3001 npm run dev
   ```

3. **訪問**：
   ```
   http://localhost:3001/dashboard/categories
   ```

---

## ✅ 解決方案 4：檢查端口佔用

確認沒有其他進程佔用端口 3000：

```bash
# 檢查端口 3000 是否被佔用
lsof -i :3000

# 如果有進程，終止它
kill -9 <PID>
```

---

## ✅ 解決方案 5：重置網路權限（進階）

如果以上方法都不行，可以重置 Node.js 的網路權限：

1. **打開「系統設定」** > **「隱私權與安全性」** > **「完整磁碟存取權」**
2. **確認 Terminal 或 iTerm2 在清單中**
3. **如果沒有，點擊「+」添加**
4. **重新啟動終端機**

---

## 🎯 推薦執行順序

1. **先試解決方案 1**（手動啟動）- 這通常就能解決
2. **如果還是不行，試解決方案 3**（換端口）
3. **最後才考慮解決方案 2 和 5**（系統設置）

---

## 📝 注意事項

- **Cursor 的終端機可能有權限限制**，手動在系統終端機啟動通常更可靠
- **開發伺服器啟動後會持續運行**，直到您按 `Ctrl + C` 停止
- **修改代碼後會自動重新編譯**，無需重啟伺服器

---

## 🚀 成功標誌

當您看到以下訊息時，表示伺服器已成功啟動：

```
▲ Next.js 14.0.4
- Local:        http://localhost:3000
- Ready in 2.3s
```

然後就可以在瀏覽器訪問應用程式了！
